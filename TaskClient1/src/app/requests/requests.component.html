<div class="requests-container">
  <h2 class="title">ğŸ“Œ ×›×œ ×”×¤× ×™×•×ª</h2>

  <table class="crazy-table">
    <thead>
      <tr>
        <th>××¡'</th>
        <th>×©× ×”×¤×•× ×”</th>
        <th>× ×•×©×</th>
        <th>×ª×•×›×Ÿ</th>
        <th>×ª××¨×™×š ×™×¦×™×¨×”</th>
        <th>×¤×¢×•×œ×•×ª</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let request of requests; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ request.name }}</td>
        <td>{{ request.subject }}</td>
        <td>{{ request.content || '-' }}</td>
        <td>{{ request.createdAt | date: 'dd/MM/yyyy HH:mm' }}</td>
        <td>
          <button (click)="editRequest(request)" class="btn-edit">âœï¸</button>
          <button (click)="deleteRequest(request.id!)" class="btn-delete">ğŸ—‘ï¸</button>
        </td>
      </tr>
    </tbody>
  </table>

  <hr />

  <button class="toggle-form-btn" (click)="toggleForm()">
    {{ showForm ? 'âŒ ×¡×’×•×¨ ×˜×•×¤×¡' : 'â• ×”×•×¡×£ ×¤× ×™×™×” ×—×“×©×”' }}
  </button>

  <div class="form-card" *ngIf="showForm">
    <form [formGroup]="requestForm" (ngSubmit)="addRequest()">
      <div class="form-group">
        <label for="name">×©× ×”×¤×•× ×”</label>
        <input id="name" type="text" formControlName="name" placeholder="×”×›× ×¡ ×©×..." />
        <div class="error" *ngIf="requestForm.get('name')?.touched && requestForm.get('name')?.invalid">
            
        </div>
      </div>

      <div class="form-group">
        <label for="subject">× ×•×©×</label>
        <input id="subject" type="text" formControlName="subject" placeholder="×”×›× ×¡ × ×•×©×..." />
        <div class="error" *ngIf="requestForm.get('subject')?.touched && requestForm.get('subject')?.invalid">
        </div>
      </div>

      <div class="form-group">
        <label for="content">×ª×•×›×Ÿ</label>
        <textarea id="content" rows="3" formControlName="content" placeholder="×›×ª×•×‘ ×›××Ÿ..."></textarea>
      </div>

      <button type="submit" [disabled]="requestForm.invalid" class="btn-submit">
        {{ editingRequestId ? 'âœï¸ ×¢×“×›×Ÿ ×¤× ×™×™×”' : 'ğŸš€ ..×©×œ×— ×¤× ×™×™×”' }}
      </button>
    </form>
  </div>
</div>
